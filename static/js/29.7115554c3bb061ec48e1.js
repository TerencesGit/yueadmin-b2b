webpackJsonp([29],{1012:function(e,r){e.exports={render:function(){var e=this,r=e.$createElement,t=e._self._c||r;return t("section",[t("h4",[e._v("订单明细")]),e._v(" "),t("el-card",[t("p",[e._v("悦视觉产品名称："),t("span",{staticStyle:{color:"#009dda"},domProps:{textContent:e._s(e.orderInfo.wareName)}})]),e._v(" "),t("p",[e._v("订单号："),t("span",{domProps:{textContent:e._s(e.orderInfo.orderCode)}}),t("span",{staticStyle:{color:"red"},domProps:{textContent:e._s(e.state)}})]),e._v(" "),t("el-button",{attrs:{type:"primary"},on:{click:e.providerRemark}},[e._v("商家备注")]),e._v(" "),t("el-button",{attrs:{type:"primary"}},[e._v("打印订单")]),e._v(" "),t("el-dialog",{attrs:{title:"商家备注",visible:e.dialogVisible,size:"tiny"},on:{"update:visible":function(r){e.dialogVisible=r}}},[t("el-form",{ref:"remarkForm",attrs:{model:e.remarkForm,rules:e.remarkRules,"label-width":"10px"}},[t("el-form-item",{attrs:{prop:"remark"}},[t("el-input",{attrs:{type:"textarea",placeholder:"请输入备注内容",rows:5},model:{value:e.remarkForm.remark,callback:function(r){e.remarkForm.remark=r},expression:"remarkForm.remark"}})],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(r){e.remarkConfirm("remarkForm")}}},[e._v("确定")]),e._v(" "),t("el-button",{on:{click:function(r){e.dialogVisible=!1}}},[e._v("取 消")])],1)],1)],1),e._v(" "),t("h4",[e._v("备注")]),e._v(" "),t("el-card",[t("p",[e._v("预定备注:"),t("span",{domProps:{textContent:e._s(e.orderInfo.remarks)}})]),e._v(" "),t("p",[e._v("商家备注:"),t("span",{domProps:{textContent:e._s(e.orderInfo.premarks)}})])]),e._v(" "),t("h4",[e._v("预定项目")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderInfo.reserveWare,border:""}},[t("el-table-column",{attrs:{prop:"wareName",align:"center",label:"商品名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"statusComplain",align:"center",label:"订单状态",formatter:e.format}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"份数/人数"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("p",[e._v(e._s(parseInt(r.row.adultCount?r.row.adultCount:0)+parseInt(r.row.childCount?r.row.childCount:0))+"("+e._s(r.row.adultCount)+"大/"+e._s(r.row.childCount)+"小)")])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"dateDepart",align:"center",label:"出发日期"}}),e._v(" "),t("el-table-column",{attrs:{prop:"dateReturn",align:"center",label:"返回日期"}}),e._v(" "),t("el-table-column",{attrs:{align:"center",label:"卖价"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("p",[e._v("成人:"+e._s(parseInt(r.row.adultPrice?r.row.adultPrice:0).toFixed(2)))]),e._v(" "),t("p",[e._v("儿童:"+e._s(parseInt(r.row.childPrice?r.row.childPrice:0).toFixed(2)))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"amountAll",align:"center",label:"卖价总价"}})],1),e._v(" "),t("h4",[e._v("金额汇总")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderInfo.amountSummary,border:"","show-summary":""}},[t("el-table-column",{attrs:{prop:"wareName",align:"center",label:"商品名称",width:"500"}}),e._v(" "),t("el-table-column",{attrs:{prop:"createTime",align:"center",label:"操作日期"}}),e._v(" "),t("el-table-column",{attrs:{prop:"amountAll",align:"center",label:"金额"}})],1),e._v(" "),t("h4",[e._v("出行人")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderInfo.traveler,border:""}},[t("el-table-column",{attrs:{prop:"name",align:"center",label:"姓名"}}),e._v(" "),t("el-table-column",{attrs:{prop:"sex",align:"center",label:"性别",formatter:e.formatSex}}),e._v(" "),t("el-table-column",{attrs:{prop:"type",align:"center",label:"类型"}}),e._v(" "),t("el-table-column",{attrs:{prop:"birthday",align:"center",label:"生日"}}),e._v(" "),t("el-table-column",{attrs:{prop:"hometown",align:"center",label:"籍贯"}}),e._v(" "),t("el-table-column",{attrs:{prop:"cardType",align:"center",width:"140",label:"出行人证件类型",formatter:e.formatCardType}}),e._v(" "),t("el-table-column",{attrs:{prop:"cardNum",align:"center",label:"证件号"}}),e._v(" "),t("el-table-column",{attrs:{prop:"mobile",align:"center",label:"电话"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wechat",align:"center",label:"微信"}}),e._v(" "),t("el-table-column",{attrs:{prop:"email",align:"center",label:"email"}}),e._v(" "),t("el-table-column",{attrs:{prop:"height",align:"center",label:"身高"}}),e._v(" "),t("el-table-column",{attrs:{prop:"weight",align:"center",label:"体重"}}),e._v(" "),t("el-table-column",{attrs:{prop:"bwh",align:"center",label:"三围"},scopedSlots:e._u([{key:"default",fn:function(r){return[t("p",[e._v("胸围:"+e._s(r.row.chestSize))]),e._v(" "),t("p",[e._v("腰围:"+e._s(r.row.waistSize))]),e._v(" "),t("p",[e._v("臀围:"+e._s(r.row.hiplineSize))])]}}])}),e._v(" "),t("el-table-column",{attrs:{prop:"weddingDay",align:"center",label:"婚期"}}),e._v(" "),t("el-table-column",{attrs:{prop:"isPregnancy",align:"center",label:"女士是否怀孕"}})],1),e._v(" "),t("h4",[e._v("联系人")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{data:e.orderInfo.contacts,border:""}},[t("el-table-column",{attrs:{prop:"name",align:"center",label:"联系人姓名",width:"500"}}),e._v(" "),t("el-table-column",{attrs:{prop:"phone",align:"center",label:"联系人手机"}}),e._v(" "),t("el-table-column",{attrs:{prop:"email",align:"center",label:"联系人邮箱"}})],1)],1)},staticRenderFns:[]}},762:function(e,r,t){t(952);var a=t(10)(t(846),t(1012),"data-v-62312ee8",null);e.exports=a.exports},846:function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=t(70);r.default={data:function(){return{remarkForm:{remark:""},dialogVisible:!1,orderInfo:{wareName:"",orderCode:"",statusComplain:"",remarks:"",premarks:"",reserveWare:[],amountSummary:[],traveler:[],contacts:[{name:"悦视觉",phone:"400123123",email:"yueshijue@163.com"}]},remarkRules:{remark:[{required:!0,message:"请输入备注内容",trigger:"blur"}]}}},methods:{format:function(e,r){switch(e.statusComplain){case 1:return"改单申请中";case 2:return"改单审核驳回";default:return"未知"}},formatSex:function(e,r){switch(e.sex){case 1:return"男";case 2:return"女"}},formatCardType:function(e,r){switch(e.cardType){case 0:return"";case 1:return"身份证";case 2:return"护照";case 3:return"军官证";case 4:return"驾照";case 5:return"其他"}},providerRemark:function(){this.remarkForm.remark="",this.dialogVisible=!0},remarkConfirm:function(e){var r=this;this.$refs[e].validate(function(e){if(!e)return console.log("error submit!!"),!1;var t={remark:r.remarkForm.remark,orderId:r.$route.query.orderId};console.log(t),(0,a.addRemark)(t).then(function(e){console.log(e),"0001"===e.data.code?(r.$message.success("提交成功"),r.orderInfo.premarks=r.remarkForm.remark):r.$message.error(e.data.message)}).catch(function(e){console.log(e),r.catchError(e.response)}),r.dialogVisible=!1})}},computed:{state:function(){switch(this.orderInfo.statusComplain){case 1:return"【改单申请中，等待审核】";case 2:return"【改单审核驳回】";default:return"未知"}}},created:function(){var e=this,r=this.$route.query;(0,a.getOrderDetail)(r).then(function(r){console.log(r);var t=r.data.result;"0001"===r.data.code?(t.item.forEach(function(r,t,a){2===r.wareType&&(e.orderInfo.wareName=r.wareName)}),e.orderInfo.orderCode=t.info.orderCode,e.orderInfo.statusComplain=t.info.statusComplain,e.orderInfo.remarks=t.item.remarks,e.orderInfo.premarks=t.info.premarks,t.item.forEach(function(r){var a={wareName:r.wareName,statusComplain:t.info.statusComplain,adultCount:r.adultCount,childCount:r.childCount,dateDepart:r.dateDepart,dateReturn:r.dateReturn,adultPrice:r.adultPrice,childPrice:r.childPrice,amountAll:t.pay.amountAll};e.orderInfo.reserveWare.push(a);var o={wareName:r.wareName,createTime:t.info.createTime,amountAll:t.pay.amountAll};e.orderInfo.amountSummary.push(o)}),e.orderInfo.traveler=t.custom):e.$message.error(r.data.message)}).catch(function(r){console.log(r),e.catchError(r.response)})}}},907:function(e,r,t){r=e.exports=t(722)(),r.push([e.i,".company-info[data-v-62312ee8]{margin-top:100px;text-align:center}p[data-v-62312ee8]{margin:3px 0}","",{version:3,sources:["D:/B2B-YueProject/yueadmin-b2b/src/pages/provider/order/changeOrderDetail.vue"],names:[],mappings:"AACA,+BACC,iBAAkB,AAClB,iBAAmB,CACnB,AACD,mBACC,YAAa,CACb",file:"changeOrderDetail.vue",sourcesContent:["\n.company-info[data-v-62312ee8]{\n\tmargin-top: 100px;\n\ttext-align: center;\n}\np[data-v-62312ee8]{\t\t\n\tmargin:3px 0;\n}\n"],sourceRoot:""}])},952:function(e,r,t){var a=t(907);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);t(723)("b9109942",a,!0)}});
//# sourceMappingURL=29.7115554c3bb061ec48e1.js.map
webpackJsonp([34],{1032:function(e,a){e.exports={render:function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("section",[t("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"m-t",attrs:{type:"border-card"},on:{"tab-click":e.handleClick}},[t("el-tab-pane",{attrs:{label:"基本信息"}},[t("span",{slot:"label"},[t("i",{staticClass:"el-icon-date"}),e._v(" 基本信息")]),e._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("ul",{staticClass:"detail-list"},[t("li",[t("label",[e._v("商品名称：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.wareName))])]),e._v(" "),t("li",[t("label",[e._v("商品品牌：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.brandName))])]),e._v(" "),t("li",[t("label",[e._v("商品缩略名：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.briefName))])]),e._v(" "),t("li",[t("label",[e._v("商品关键字：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.keyWords))])])])]),e._v(" "),t("el-col",{attrs:{span:8}},[t("ul",{staticClass:"detail-list"},[t("li",[t("label",[e._v("出发城市：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.srcCityName))])]),e._v(" "),t("li",[t("label",[e._v("目的城市：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.dstCityName))])]),e._v(" "),t("li",[t("label",[e._v("起售时间：")]),e._v(" "),t("span",[e._v(e._s(e._f("DateTimeFormat")(e.wareInfo.openDate)))])]),e._v(" "),t("li",[t("label",[e._v("停售时间：")]),e._v(" "),t("span",[e._v(e._s(e._f("DateTimeFormat")(e.wareInfo.closeDate)))])])])]),e._v(" "),t("el-col",{attrs:{span:8}},[t("ul",{staticClass:"detail-list label-control"},[t("li",[t("label",[e._v("行程天数：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.tripDays)+"天")])]),e._v(" "),t("li",[t("label",[e._v("建议售价：")]),e._v(" "),t("span",[e._v(e._s(e._f("currency")(e.wareInfo.suggestedPrice))+"元")])]),e._v(" "),t("li",[t("label",[e._v("至少提前多少天购买：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.sellPreDays)+"天")])]),e._v(" "),t("li",[t("label",[e._v("无订金订单占位时长：")]),e._v(" "),t("span",[e._v(e._s(e.wareInfo.nocashReserveMinute/60)+"小时")])])])])],1),e._v(" "),t("el-row",[t("h3",[e._v("推荐概述")]),e._v(" "),t("div",{staticStyle:{margin:"15px"},domProps:{innerHTML:e._s(e.wareInfo.wareDesc)}})])],1),e._v(" "),t("el-tab-pane",{attrs:{label:"行程介绍"}},[t("span",{slot:"label"},[t("i",{staticClass:"fa fa-cab"}),e._v(" 行程介绍")]),e._v(" "),t("ul",{staticClass:"trip-content"},e._l(e.wareInfo.tripDays,function(a){return t("li",{key:a},[t("el-card",{staticClass:"trip-day"},[t("h4",[e._v("第"+e._s(a)+"天")]),e._v(" "),t("ul",{staticClass:"trip-list"},[t("li",[t("table",{staticClass:"table"},[t("thead",[t("th",[e._v("行程时间")]),e._v(" "),t("th",[e._v("行程标题")]),e._v(" "),t("th",[e._v("行程类型")]),e._v(" "),t("th",[e._v("行程时长（分钟）")]),e._v(" "),t("th",[e._v("行程明细")]),e._v(" "),t("th",[e._v("是否免费")])]),e._v(" "),t("tbody",e._l(e.tripList,function(s){return s.tripDayNum===a&&s.id?t("tr",[t("td",[e._v(e._s(e._f("TimeFormat")(s.programTime)))]),e._v(" "),t("td",[e._v(e._s(s.programTitle))]),e._v(" "),t("td",[e._v(e._s(s.programType))]),e._v(" "),t("td",[e._v(e._s(s.programDuration))]),e._v(" "),t("td",[e._v(e._s(s.programDetail))]),e._v(" "),t("td",[e._v(e._s(0===s.programIsFree?"是":"否"))])]):e._e()}))])])])])],1)}))]),e._v(" "),t("el-tab-pane",{attrs:{label:"多媒体"}},[t("span",{slot:"label"},[t("i",{staticClass:"fa fa-image"}),e._v(" 多媒体")]),e._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:e.mediaList,"highlight-current-row":""}},[t("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),t("el-table-column",{attrs:{label:"图片缩略图",width:"120"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("img",{staticClass:"cell-img",attrs:{src:a.row.filePath,height:"50px"},on:{click:function(t){e.viewImage(a.row.filePath)}}})]}}])}),e._v(" "),t("el-table-column",{attrs:{label:"更新者",prop:"createName",width:"150"}}),e._v(" "),t("el-table-column",{attrs:{label:"更新时间",prop:"createTime",formatter:e.formatCreateTime,sortable:""}}),e._v(" "),t("el-table-column",{attrs:{label:"是否为主图",prop:"isMainPic",width:"120",formatter:e.formatIsMainPic}}),e._v(" "),t("el-table-column",{attrs:{label:"是否显示",prop:"status",width:"120",formatter:e.formatStatus}})],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"费用/预定限制"}},[t("span",{slot:"label"},[t("i",{staticClass:"fa fa-money"}),e._v(" 费用/预定限制")]),e._v(" "),t("div",{staticClass:"pane-content"},[t("el-card",[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticClass:"title"},[e._v("商品介绍")])]),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.attributeInfo.introduce)}})]),e._v(" "),t("el-card",[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticClass:"title"},[e._v("费用说明")])]),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.attributeInfo.charge)}})]),e._v(" "),t("el-card",[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticClass:"title"},[e._v("使用说明")])]),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.attributeInfo.explains)}})]),e._v(" "),t("el-card",[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticClass:"title"},[e._v("购买须知")])]),e._v(" "),t("div",{domProps:{innerHTML:e._s(e.attributeInfo.notice)}})])],1)]),e._v(" "),t("el-tab-pane",{attrs:{label:"价格库存"}},[t("full-calendar",{attrs:{events:e.skuList,"first-day":"0"},on:{changeMonth:e.changeMonth}})],1),e._v(" "),t("el-tab-pane",{attrs:{label:"附加服务"}},[t("el-table",{attrs:{data:e.serviceList,border:"","highlight-current-row":""}},[t("el-table-column",{attrs:{type:"index"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wareCode",label:"服务ID",width:"180px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wareName",label:"服务名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wareDesc",label:"服务描述"}}),e._v(" "),t("el-table-column",{attrs:{label:"详情",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showDetail(a.row)}}},[e._v("查看")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showStorage(a.row.wareId)}}},[e._v("价格库存")])]}}])})],1)],1),e._v(" "),t("el-tab-pane",{attrs:{label:"推荐活动"}},[t("el-table",{attrs:{data:e.activityList,border:"","highlight-current-row":""}},[t("el-table-column",{attrs:{type:"index"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wareCode",label:"活动ID",width:"180px"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wareName",label:"活动名称"}}),e._v(" "),t("el-table-column",{attrs:{prop:"wareDesc",label:"活动描述"}}),e._v(" "),t("el-table-column",{attrs:{label:"详情",width:"180px"},scopedSlots:e._u([{key:"default",fn:function(a){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showDetail(a.row)}}},[e._v("查看")]),e._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){e.showStorage(a.row.wareId)}}},[e._v("价格库存")])]}}])})],1)],1)],1),e._v(" "),t("el-dialog",{attrs:{visible:e.previewVisible,size:"tiny"},on:{"update:visible":function(a){e.previewVisible=a}}},[t("img",{attrs:{width:"100%",src:e.previewImgUrl}})]),e._v(" "),t("el-dialog",{attrs:{visible:e.subInfoVisible,title:"附加服务"},on:{"update:visible":function(a){e.subInfoVisible=a}}},[t("el-form",{attrs:{model:e.serviceInfo,"label-width":"120px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"服务名称："}},[t("span",[e._v(e._s(e.serviceInfo.wareName))])])],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"缩略名："}},[t("span",[e._v(e._s(e.serviceInfo.briefName))])])],1)],1),e._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"建议售价："}},[t("span",[e._v(e._s(e.serviceInfo.suggestedPrice))])])],1),e._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"关键字："}},[t("span",[e._v(e._s(e.serviceInfo.keyWords))])])],1)],1),e._v(" "),t("el-row",[t("el-form-item",{attrs:{label:"服务描述："}},[t("span",[e._v(e._s(e.serviceInfo.wareDesc))])])],1)],1),e._v(" "),t("div",{staticClass:"dialog-footer",slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(a){e.subInfoVisible=!1}}},[e._v("确 定")])],1)],1),e._v(" "),t("el-dialog",{attrs:{visible:e.storageVisible,size:"large"},on:{"update:visible":function(a){e.storageVisible=a}}},[t("full-calendar",{attrs:{events:e.subWareSkuList,"first-day":"0"},on:{changeMonth:e.changeMonth}})],1)],1)},staticRenderFns:[]}},752:function(e,a,t){t(961);var s=t(10)(t(836),t(1032),"data-v-a6aa4d98",null);e.exports=s.exports},836:function(e,a,t){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(a,"__esModule",{value:!0});var i=t(337),l=s(i),r=t(338),n=s(r),o=t(70);a.default={data:function(){return{wareId:"",wareInfo:{},tripList:[],mediaList:[],skuList:[],attributeInfo:{},serviceList:[],serviceInfo:{},activityList:[],activityInfo:{},subWareSkuList:[],loading:!1,previewImgUrl:"",previewVisible:!1,storageVisible:!1,subInfoVisible:!1}},methods:{formatStatus:function(e){return 1===e.status?"是":"否"},formatIsMainPic:function(e,a){return 1===e.isMainPic?"是":"否"},formatCreateTime:function(e,a){return this.$moment(e.createTime).format("YYYY-MM-DD HH:mm:ss")},viewImage:function(e){this.previewImgUrl=e,this.previewVisible=!0},handleClick:function(e,a){var t=this;if(this.loading=!0,0==e.index)return void(this.loading=!1);if(1==e.index)0!==this.tripList.length?this.loading=!1:(0,o.readTripDetailList)({wareId:this.wareId}).then(function(e){console.log(e),"0001"===e.data.code?(t.tripList=e.data.result.tripDetailList,t.tripList.forEach(function(e){switch(e.programType){case 1:e.programType="航班";break;case 2:e.programType="交通";break;case 10:e.programType="酒店";break;case 20:e.programType="景点";break;case 30:e.programType="早餐";break;case 31:e.programType="午餐";break;case 32:e.programType="下午茶";break;case 33:e.programType="晚餐";break;case 34:e.programType="宵夜";break;case 40:e.programType="购物";break;case 50:e.programType="自由活动";break;case 60:e.programType="主题活动";break;default:e.programType="自定义"}})):console.log(e.data.message),t.loading=!1}).catch(function(e){console.log(e),t.catchError(e.response),t.loading=!1});else if(2==e.index)0!==this.mediaList.length?this.loading=!1:(0,o.readWareFileList)({wareId:this.wareId}).then(function(e){console.log(e),"0001"===e.data.code?t.mediaList=e.data.result.fileList:console.log(e.data.message),t.loading=!1}).catch(function(e){console.log(e),t.catchError(e.response),t.loading=!1});else if(3==e.index)"{}"!==(0,n.default)(this.attributeInfo)?this.loading=!1:((0,o.readAttribute)({wareId:this.wareId}).then(function(e){console.log(e),"0001"===e.data.code?t.attributeInfo=e.data.result.AttributeInfo:t.$message.error(e.data.message)}).catch(function(e){console.log(e)}),this.loading=!1);else if(4==e.index)0!==this.skuList.length?this.loading=!1:(0,o.readSkuInfoList)({wareId:this.wareId}).then(function(e){console.log(e),"0001"===e.data.code?(t.skuList=e.data.result.skuList||[],t.skuList.forEach(function(e){e.start=e.skuDate})):t.$message.error(e.data.message),t.loading=!1}).catch(function(e){console.log(e),t.catchError(e.response),t.loading=!1});else if(5==e.index)0!==this.serviceList.length?this.loading=!1:(0,o.readWareService)({parentId:this.wareId}).then(function(e){console.log(e),"0001"===e.data.code?t.serviceList=e.data.result.wareServiceList:t.$message.error(e.data.message),t.loading=!1}).catch(function(e){console.log(e),t.catchError(e.response),t.loading=!1});else{if(6!=e.index)return!1;0!==this.activityList.length?this.loading=!1:(0,o.readWareActivity)({parentId:this.wareId}).then(function(e){console.log(e),"0001"===e.data.code?t.activityList=e.data.result.wareActivityList:t.$message.error(e.data.message),t.loading=!1}).catch(function(e){console.log(e),t.catchError(e.response),t.loading=!1})}},getWareInfo:function(){var e=this;(0,o.readWareInfo)({wareId:this.wareId}).then(function(a){if(console.log(a),"0001"===a.data.code){var t=a.data.result.wareInfo;t.openDate=new Date(t.openDate),t.closeDate=new Date(t.closeDate),e.wareInfo=t}else e.$message.error(a.data.message)}).catch(function(a){console.log(a),e.catchError(a.response)})},changeMonth:function(e,a,t){},showDetail:function(e){this.serviceInfo=(0,l.default)({},e),this.subInfoVisible=!0},showStorage:function(e){var a=this;console.log(e),(0,o.readSkuInfoList)({wareId:e}).then(function(e){console.log(e),"0001"===e.data.code?(a.subWareSkuList=e.data.result.skuList||[],a.subWareSkuList.forEach(function(e){e.start=e.skuDate})):a.$message.error(e.data.message)}).catch(function(e){console.log(e),a.catchError(e.response)}),this.storageVisible=!0}},mounted:function(){this.wareId=parseInt(this.$route.query.wareId),this.wareId&&this.getWareInfo()}}},916:function(e,a,t){a=e.exports=t(722)(),a.push([e.i,".el-card[data-v-a6aa4d98]{margin:15px;padding:0}.detail-list[data-v-a6aa4d98]{margin-left:15px}.detail-list li[data-v-a6aa4d98]{margin:15px 0}.detail-list li label[data-v-a6aa4d98]{display:inline-block;width:100px}.detail-list.label-control label[data-v-a6aa4d98]{width:160px}.trip-list[data-v-a6aa4d98]{margin-top:15px}","",{version:3,sources:["D:/B2B-YueProject/yueadmin-b2b/src/pages/admin/ware/wareDetail.vue"],names:[],mappings:"AACA,0BACE,YAAa,AACb,SAAW,CACZ,AACD,8BACE,gBAAkB,CACnB,AACD,iCACI,aAAe,CAClB,AACD,uCACM,qBAAsB,AACtB,WAAa,CAClB,AACD,kDACI,WAAa,CAChB,AACD,4BACE,eAAiB,CAClB",file:"wareDetail.vue",sourcesContent:["\n.el-card[data-v-a6aa4d98] {\n  margin: 15px;\n  padding: 0;\n}\n.detail-list[data-v-a6aa4d98] {\n  margin-left: 15px;\n}\n.detail-list li[data-v-a6aa4d98] {\n    margin: 15px 0;\n}\n.detail-list li label[data-v-a6aa4d98] {\n      display: inline-block;\n      width: 100px;\n}\n.detail-list.label-control label[data-v-a6aa4d98] {\n    width: 160px;\n}\n.trip-list[data-v-a6aa4d98] {\n  margin-top: 15px;\n}\n"],sourceRoot:""}])},961:function(e,a,t){var s=t(916);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);t(723)("19dc2b16",s,!0)}});
//# sourceMappingURL=34.8091ce3f5276703353a1.js.map
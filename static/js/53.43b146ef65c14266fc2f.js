webpackJsonp([53],{781:function(e,t,a){var s=a(10)(a(865),a(975),null,null);e.exports=s.exports},865:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a(70);t.default={data:function(){return{filter:{name:"",code:""},currPage:1,pageSize:10,total:0,loading:!1,wareList:[{wareId:10001,wareName:"三亚旅拍",status:1},{wareId:10002,wareName:"三亚旅拍",status:0},{wareId:10003,wareName:"三亚旅拍",status:-1,cause:"暂无原因"}],causeVisible:!1,cause:""}},methods:{formatStatus:function(e){return 1===e.status?"已上架":0===e.status?"已下架":"平台已下架"},getWareList:function(){var e=this;this.loading=!0;var t={currPage:this.currPage,pageSize:this.pageSize,wareName:this.filter.name,wareCode:this.filter.code,verifyStatus:2};(0,s.readWareList)(t).then(function(t){e.loading=!1,console.log(t),"0001"===t.data.code?(e.total=t.data.result.pageInfo.count,e.wareList=t.data.result.wareList):e.$message.error(t.data.message)}).catch(function(t){e.loading=!1,console.log(t),e.catchError(t.response)})},handleSizeChange:function(e){this.pageSize=e,this.getWareList()},handleCurrentChange:function(e){this.currPage=e,this.getWareList()},handleShelf:function(e){var t=this,a=1===e.status?"下架":"上架",r=1===e.status?0:1;this.$confirm("确定"+a+"该商品？","提示",{type:"warning"}).then(function(){var a={wareId:e.wareId,upDownStatus:r,wareType:1};console.log(a),(0,s.updateWareInfoUpDownStatus)(a).then(function(e){console.log(e),"0001"===e.data.code?(t.$message.success(e.data.message),t.getWareList()):t.$message.error(e.data.message)}).catch(function(e){console.log(e)})}).catch(function(e){console.log(e),t.$message("取消操作")})},showCause:function(e){this.cause=e.cause||"暂无原因",this.causeVisible=!0},handleServiceSet:function(e){this.$router.push("/provider/ware/serviceShelfList?wareId="+e)},handleActivitySet:function(e){this.$router.push("/provider/ware/activityShelfList?wareId="+e)}},mounted:function(){this.getWareList()}}},975:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("section",[a("div",{directives:[{name:"title",rawName:"v-title"}],attrs:{"data-title":this.$route.name}}),e._v(" "),a("el-row",{staticClass:"toolbar"},[a("el-form",{attrs:{inline:!0,model:e.filter}},[a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"输入商品编号"},model:{value:e.filter.code,callback:function(t){e.filter.code=t},expression:"filter.code"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-input",{attrs:{placeholder:"输入商品名称"},model:{value:e.filter.name,callback:function(t){e.filter.name=t},expression:"filter.name"}})],1),e._v(" "),a("el-form-item",{attrs:{label:""}},[a("el-button",{attrs:{type:"primary"},on:{click:e.getWareList}},[e._v("搜索")])],1)],1)],1),e._v(" "),a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.wareList,"highlight-current-row":""}},[a("el-table-column",{attrs:{type:"index",width:"60"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wareId",label:"商品编号",sortable:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"wareName",label:"商品名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"createTime",label:"创建时间",sortable:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"upDownTime",label:"上/下架时间",sortable:"",width:"180"}}),e._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",width:"110",formatter:e.formatStatus}}),e._v(" "),a("el-table-column",{attrs:{label:"操作",width:"270"},scopedSlots:e._u([{key:"default",fn:function(t){return[0===t.row.status?a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleShelf(t.row)}}},[e._v("上架")]):e._e(),e._v(" "),1===t.row.status?a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleShelf(t.row)}}},[e._v("下架")]):e._e(),e._v(" "),-1===t.row.status?a("el-button",{attrs:{size:"small"},on:{click:function(a){e.showCause(t.row)}}},[e._v("下架原因")]):e._e(),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleServiceSet(t.row.wareId)}}},[e._v("附加服务")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(a){e.handleActivitySet(t.row.wareId)}}},[e._v("推荐活动")])]}}])})],1),e._v(" "),a("el-row",{staticClass:"m-t"},[a("el-pagination",{staticClass:"pull-right",attrs:{"current-page":e.currPage,"page-size":e.pageSize,"page-sizes":[10,20,30,40],layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"下架原因",visible:e.causeVisible},on:{"update:visible":function(t){e.causeVisible=t}}},[a("div",{staticClass:"dialog-content"},[e._v("\n        "+e._s(e.cause)+"\n      ")]),e._v(" "),a("div",{staticClass:"dialog-footer",slot:"footer"},[a("el-button",{attrs:{type:"primary"},nativeOn:{click:function(t){e.causeVisible=!1}}},[e._v("确 定")])],1)])],1)},staticRenderFns:[]}}});
//# sourceMappingURL=53.43b146ef65c14266fc2f.js.map
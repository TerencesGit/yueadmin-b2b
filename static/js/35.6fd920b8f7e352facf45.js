webpackJsonp([35],{1290:function(a,e,t){"use strict";function s(a){return a&&a.__esModule?a:{default:a}}Object.defineProperty(e,"__esModule",{value:!0});var i=t(339),l=s(i),r=t(138),n=s(r),o=t(52);e.default={data:function(){return{wareId:"",wareInfo:{},tripList:[],mediaList:[],skuList:[],attributeInfo:{},serviceList:[],serviceInfo:{},activityList:[],activityInfo:{},subWareSkuList:[],loading:!1,previewImgUrl:"",previewVisible:!1,storageVisible:!1,subInfoVisible:!1}},methods:{formatStatus:function(a){return 1===a.status?"是":"否"},formatIsMainPic:function(a,e){return 1===a.isMainPic?"是":"否"},formatCreateTime:function(a,e){return this.$moment(a.createTime).format("YYYY-MM-DD HH:mm:ss")},viewImage:function(a){this.previewImgUrl=a,this.previewVisible=!0},handleClick:function(a,e){var t=this;if(this.loading=!0,0==a.index)return void(this.loading=!1);if(1==a.index)0!==this.tripList.length?this.loading=!1:(0,o.readTripDetailList)({wareId:this.wareId}).then(function(a){console.log(a),"0001"===a.data.code?(t.tripList=a.data.result.tripDetailList,t.tripList.forEach(function(a){switch(a.programType){case 1:a.programType="航班";break;case 2:a.programType="交通";break;case 10:a.programType="酒店";break;case 20:a.programType="景点";break;case 30:a.programType="早餐";break;case 31:a.programType="午餐";break;case 32:a.programType="下午茶";break;case 33:a.programType="晚餐";break;case 34:a.programType="宵夜";break;case 40:a.programType="购物";break;case 50:a.programType="自由活动";break;case 60:a.programType="主题活动";break;default:a.programType="自定义"}})):console.log(a.data.message),t.loading=!1}).catch(function(a){console.log(a),t.$catchError(a),t.loading=!1});else if(2==a.index)0!==this.mediaList.length?this.loading=!1:(0,o.readWareFileList)({wareId:this.wareId}).then(function(a){console.log(a),"0001"===a.data.code?t.mediaList=a.data.result.fileList:console.log(a.data.message),t.loading=!1}).catch(function(a){console.log(a),t.$catchError(a),t.loading=!1});else if(3==a.index)"{}"!==(0,n.default)(this.attributeInfo)?this.loading=!1:((0,o.readAttribute)({wareId:this.wareId}).then(function(a){console.log(a),"0001"===a.data.code?t.attributeInfo=a.data.result.AttributeInfo:t.$message.error(a.data.message)}).catch(function(a){console.log(a)}),this.loading=!1);else if(4==a.index)0!==this.skuList.length?this.loading=!1:(0,o.readSkuInfoList)({wareId:this.wareId}).then(function(a){console.log(a),"0001"===a.data.code?(t.skuList=a.data.result.skuList||[],t.skuList.forEach(function(a){a.start=a.skuDate})):t.$message.error(a.data.message),t.loading=!1}).catch(function(a){console.log(a),t.$catchError(a),t.loading=!1});else if(5==a.index)0!==this.serviceList.length?this.loading=!1:(0,o.readWareService)({parentId:this.wareId}).then(function(a){console.log(a),"0001"===a.data.code?t.serviceList=a.data.result.wareServiceList:t.$message.error(a.data.message),t.loading=!1}).catch(function(a){console.log(a),t.$catchError(a),t.loading=!1});else{if(6!=a.index)return!1;0!==this.activityList.length?this.loading=!1:(0,o.readWareActivity)({parentId:this.wareId}).then(function(a){console.log(a),"0001"===a.data.code?t.activityList=a.data.result.wareActivityList:t.$message.error(a.data.message),t.loading=!1}).catch(function(a){console.log(a),t.$catchError(a),t.loading=!1})}},getWareInfo:function(){var a=this;(0,o.readWareInfo)({wareId:this.wareId}).then(function(e){if(console.log(e),"0001"===e.data.code){var t=e.data.result.wareInfo;t.openDate=new Date(t.openDate),t.closeDate=new Date(t.closeDate),a.wareInfo=t}else a.$message.error(e.data.message)}).catch(function(e){console.log(e),a.$catchError(e)})},changeMonth:function(a,e,t){},showDetail:function(a){this.serviceInfo=(0,l.default)({},a),this.subInfoVisible=!0},showStorage:function(a){var e=this;console.log(a),(0,o.readSkuInfoList)({wareId:a}).then(function(a){console.log(a),"0001"===a.data.code?(e.subWareSkuList=a.data.result.skuList||[],e.subWareSkuList.forEach(function(a){a.start=a.skuDate})):e.$message.error(a.data.message)}).catch(function(a){console.log(a),e.$catchError(a)}),this.storageVisible=!0}},mounted:function(){this.wareId=parseInt(this.$route.query.wareId),this.wareId&&this.getWareInfo()}}},1372:function(a,e,t){e=a.exports=t(741)(),e.push([a.i,".el-card[data-v-a6aa4d98]{margin:15px;padding:0}.detail-list[data-v-a6aa4d98]{margin-left:15px}.detail-list li[data-v-a6aa4d98]{margin:15px 0}.detail-list li label[data-v-a6aa4d98]{display:inline-block;width:100px}.detail-list.label-control label[data-v-a6aa4d98]{width:160px}.trip-list[data-v-a6aa4d98]{margin-top:15px}","",{version:3,sources:["D:/B2B-YueProject/yueadmin-b2b/src/pages/admin/ware/wareDetail.vue"],names:[],mappings:"AACA,0BACE,YAAa,AACb,SAAW,CACZ,AACD,8BACE,gBAAkB,CACnB,AACD,iCACI,aAAe,CAClB,AACD,uCACM,qBAAsB,AACtB,WAAa,CAClB,AACD,kDACI,WAAa,CAChB,AACD,4BACE,eAAiB,CAClB",file:"wareDetail.vue",sourcesContent:["\n.el-card[data-v-a6aa4d98] {\n  margin: 15px;\n  padding: 0;\n}\n.detail-list[data-v-a6aa4d98] {\n  margin-left: 15px;\n}\n.detail-list li[data-v-a6aa4d98] {\n    margin: 15px 0;\n}\n.detail-list li label[data-v-a6aa4d98] {\n      display: inline-block;\n      width: 100px;\n}\n.detail-list.label-control label[data-v-a6aa4d98] {\n    width: 160px;\n}\n.trip-list[data-v-a6aa4d98] {\n  margin-top: 15px;\n}\n"],sourceRoot:""}])},1418:function(a,e,t){var s=t(1372);"string"==typeof s&&(s=[[a.i,s,""]]),s.locals&&(a.exports=s.locals);t(742)("19dc2b16",s,!0)},1490:function(a,e){a.exports={render:function(){var a=this,e=a.$createElement,t=a._self._c||e;return t("section",[t("el-tabs",{directives:[{name:"loading",rawName:"v-loading",value:a.loading,expression:"loading"}],staticClass:"m-t",attrs:{type:"border-card"},on:{"tab-click":a.handleClick}},[t("el-tab-pane",{attrs:{label:"基本信息"}},[t("span",{slot:"label"},[t("i",{staticClass:"el-icon-date"}),a._v(" 基本信息")]),a._v(" "),t("el-row",[t("el-col",{attrs:{span:8}},[t("ul",{staticClass:"detail-list"},[t("li",[t("label",[a._v("商品名称：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.wareName))])]),a._v(" "),t("li",[t("label",[a._v("商品品牌：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.brandName))])]),a._v(" "),t("li",[t("label",[a._v("商品缩略名：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.briefName))])]),a._v(" "),t("li",[t("label",[a._v("商品关键字：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.keyWords))])])])]),a._v(" "),t("el-col",{attrs:{span:8}},[t("ul",{staticClass:"detail-list"},[t("li",[t("label",[a._v("出发城市：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.srcCityName))])]),a._v(" "),t("li",[t("label",[a._v("目的城市：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.dstCityName))])]),a._v(" "),t("li",[t("label",[a._v("起售时间：")]),a._v(" "),t("span",[a._v(a._s(a._f("DateTimeFormat")(a.wareInfo.openDate)))])]),a._v(" "),t("li",[t("label",[a._v("停售时间：")]),a._v(" "),t("span",[a._v(a._s(a._f("DateTimeFormat")(a.wareInfo.closeDate)))])])])]),a._v(" "),t("el-col",{attrs:{span:8}},[t("ul",{staticClass:"detail-list label-control"},[t("li",[t("label",[a._v("行程天数：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.tripDays)+"天")])]),a._v(" "),t("li",[t("label",[a._v("建议售价：")]),a._v(" "),t("span",[a._v(a._s(a._f("currency")(a.wareInfo.suggestedPrice))+"元")])]),a._v(" "),t("li",[t("label",[a._v("至少提前多少天购买：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.sellPreDays)+"天")])]),a._v(" "),t("li",[t("label",[a._v("无订金订单占位时长：")]),a._v(" "),t("span",[a._v(a._s(a.wareInfo.nocashReserveMinute/60)+"小时")])])])])],1),a._v(" "),t("el-row",[t("h3",[a._v("推荐概述")]),a._v(" "),t("div",{staticStyle:{margin:"15px"},domProps:{innerHTML:a._s(a.wareInfo.wareDesc)}})])],1),a._v(" "),t("el-tab-pane",{attrs:{label:"行程介绍"}},[t("span",{slot:"label"},[t("i",{staticClass:"fa fa-cab"}),a._v(" 行程介绍")]),a._v(" "),t("ul",{staticClass:"trip-content"},a._l(a.wareInfo.tripDays,function(e){return t("li",{key:e},[t("el-card",{staticClass:"trip-day"},[t("h4",[a._v("第"+a._s(e)+"天")]),a._v(" "),t("ul",{staticClass:"trip-list"},[t("li",[t("table",{staticClass:"table"},[t("thead",[t("th",[a._v("行程时间")]),a._v(" "),t("th",[a._v("行程标题")]),a._v(" "),t("th",[a._v("行程类型")]),a._v(" "),t("th",[a._v("行程时长（分钟）")]),a._v(" "),t("th",[a._v("行程明细")]),a._v(" "),t("th",[a._v("是否免费")])]),a._v(" "),t("tbody",a._l(a.tripList,function(s){return s.tripDayNum===e&&s.id?t("tr",[t("td",[a._v(a._s(a._f("TimeFormat")(s.programTime)))]),a._v(" "),t("td",[a._v(a._s(s.programTitle))]),a._v(" "),t("td",[a._v(a._s(s.programType))]),a._v(" "),t("td",[a._v(a._s(s.programDuration))]),a._v(" "),t("td",[a._v(a._s(s.programDetail))]),a._v(" "),t("td",[a._v(a._s(0===s.programIsFree?"是":"否"))])]):a._e()}))])])])])],1)}))]),a._v(" "),t("el-tab-pane",{attrs:{label:"多媒体"}},[t("span",{slot:"label"},[t("i",{staticClass:"fa fa-image"}),a._v(" 多媒体")]),a._v(" "),t("el-table",{staticStyle:{width:"100%"},attrs:{border:"",data:a.mediaList,"highlight-current-row":""}},[t("el-table-column",{attrs:{type:"index",width:"60"}}),a._v(" "),t("el-table-column",{attrs:{label:"图片缩略图",width:"120"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("img",{staticClass:"cell-img",attrs:{src:e.row.filePath,height:"50px"},on:{click:function(t){a.viewImage(e.row.filePath)}}})]}}])}),a._v(" "),t("el-table-column",{attrs:{label:"更新者",prop:"createName",width:"150"}}),a._v(" "),t("el-table-column",{attrs:{label:"更新时间",prop:"createTime",formatter:a.formatCreateTime,sortable:""}}),a._v(" "),t("el-table-column",{attrs:{label:"是否为主图",prop:"isMainPic",width:"120",formatter:a.formatIsMainPic}}),a._v(" "),t("el-table-column",{attrs:{label:"是否显示",prop:"status",width:"120",formatter:a.formatStatus}})],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"费用/预定限制"}},[t("span",{slot:"label"},[t("i",{staticClass:"fa fa-money"}),a._v(" 费用/预定限制")]),a._v(" "),t("div",{staticClass:"pane-content"},[t("el-card",[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticClass:"title"},[a._v("商品介绍")])]),a._v(" "),t("div",{domProps:{innerHTML:a._s(a.attributeInfo.introduce)}})]),a._v(" "),t("el-card",[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticClass:"title"},[a._v("费用说明")])]),a._v(" "),t("div",{domProps:{innerHTML:a._s(a.attributeInfo.charge)}})]),a._v(" "),t("el-card",[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticClass:"title"},[a._v("使用说明")])]),a._v(" "),t("div",{domProps:{innerHTML:a._s(a.attributeInfo.explains)}})]),a._v(" "),t("el-card",[t("div",{staticClass:"clearfix",slot:"header"},[t("span",{staticClass:"title"},[a._v("购买须知")])]),a._v(" "),t("div",{domProps:{innerHTML:a._s(a.attributeInfo.notice)}})])],1)]),a._v(" "),t("el-tab-pane",{attrs:{label:"价格库存"}},[t("full-calendar",{attrs:{events:a.skuList,"first-day":"0"},on:{changeMonth:a.changeMonth}})],1),a._v(" "),t("el-tab-pane",{attrs:{label:"附加服务"}},[t("el-table",{attrs:{data:a.serviceList,border:"","highlight-current-row":""}},[t("el-table-column",{attrs:{type:"index"}}),a._v(" "),t("el-table-column",{attrs:{prop:"wareCode",label:"服务ID",width:"180px"}}),a._v(" "),t("el-table-column",{attrs:{prop:"wareName",label:"服务名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"wareDesc",label:"服务描述"}}),a._v(" "),t("el-table-column",{attrs:{label:"详情",width:"180px"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.showDetail(e.row)}}},[a._v("查看")]),a._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.showStorage(e.row.wareId)}}},[a._v("价格库存")])]}}])})],1)],1),a._v(" "),t("el-tab-pane",{attrs:{label:"推荐活动"}},[t("el-table",{attrs:{data:a.activityList,border:"","highlight-current-row":""}},[t("el-table-column",{attrs:{type:"index"}}),a._v(" "),t("el-table-column",{attrs:{prop:"wareCode",label:"活动ID",width:"180px"}}),a._v(" "),t("el-table-column",{attrs:{prop:"wareName",label:"活动名称"}}),a._v(" "),t("el-table-column",{attrs:{prop:"wareDesc",label:"活动描述"}}),a._v(" "),t("el-table-column",{attrs:{label:"详情",width:"180px"},scopedSlots:a._u([{key:"default",fn:function(e){return[t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.showDetail(e.row)}}},[a._v("查看")]),a._v(" "),t("el-button",{attrs:{type:"primary",size:"small"},on:{click:function(t){a.showStorage(e.row.wareId)}}},[a._v("价格库存")])]}}])})],1)],1)],1),a._v(" "),t("el-dialog",{attrs:{visible:a.previewVisible,size:"tiny"},on:{"update:visible":function(e){a.previewVisible=e}}},[t("img",{attrs:{width:"100%",src:a.previewImgUrl}})]),a._v(" "),t("el-dialog",{attrs:{visible:a.subInfoVisible,title:"附加服务"},on:{"update:visible":function(e){a.subInfoVisible=e}}},[t("el-form",{attrs:{model:a.serviceInfo,"label-width":"120px"}},[t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"服务名称："}},[t("span",[a._v(a._s(a.serviceInfo.wareName))])])],1),a._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"缩略名："}},[t("span",[a._v(a._s(a.serviceInfo.briefName))])])],1)],1),a._v(" "),t("el-row",[t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"建议售价："}},[t("span",[a._v(a._s(a.serviceInfo.suggestedPrice))])])],1),a._v(" "),t("el-col",{attrs:{span:12}},[t("el-form-item",{attrs:{label:"关键字："}},[t("span",[a._v(a._s(a.serviceInfo.keyWords))])])],1)],1),a._v(" "),t("el-row",[t("el-form-item",{attrs:{label:"服务描述："}},[t("span",[a._v(a._s(a.serviceInfo.wareDesc))])])],1)],1),a._v(" "),t("div",{staticClass:"dialog-footer",slot:"footer"},[t("el-button",{attrs:{type:"primary"},on:{click:function(e){a.subInfoVisible=!1}}},[a._v("确 定")])],1)],1),a._v(" "),t("el-dialog",{attrs:{visible:a.storageVisible,size:"large"},on:{"update:visible":function(e){a.storageVisible=e}}},[t("full-calendar",{attrs:{events:a.subWareSkuList,"first-day":"0"},on:{changeMonth:a.changeMonth}})],1)],1)},staticRenderFns:[]}},771:function(a,e,t){t(1418);var s=t(7)(t(1290),t(1490),"data-v-a6aa4d98",null);a.exports=s.exports}});
//# sourceMappingURL=35.6fd920b8f7e352facf45.js.map
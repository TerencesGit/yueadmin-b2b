webpackJsonp([12],{762:function(e,t,r){r(912);var a=r(10)(r(846),r(960),"data-v-245cc17a",null);e.exports=a.exports},846:function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=r(329),i=function(e){return e&&e.__esModule?e:{default:e}}(a),s=r(70);t.default={data:function(){return{wareId:"",brandList:[],kindList:[{kindId:10001,kindName:"一级 1",templetId:10001,children:[{kindId:20001,kindName:"二级 1-1",templetId:10002,children:[{kindId:30001,kindName:"三级 1-1-1",templetId:10003},{kindId:30002,kindName:"三级 1-1-1",templetId:10003},{kindId:30003,kindName:"三级 1-1-1",templetId:10003},{kindId:30004,kindName:"三级 1-1-1",templetId:10003}]}]}],selectedKind:{},wareKindName:"",wareKindVisible:!1,defaultProps:{children:"children",label:"kindName"},wareForm:{wareName:"",keyWords:"",openDate:"",closeDate:"",srcCityCode:"",dstCityCode:"",wareDesc:"",briefName:"",brandId:"",tripDays:1,sellPreDays:7,nocashReserveMinute:24,suggestedPrice:"",srcCityName:"请选择城市",dstCityName:"请选择城市",wareKind:""},rules:{wareName:[{required:!0,message:"请输入商品名称",trigger:"blur"}],wareKind:[{required:!0,type:"number",message:"请输入商品品类",trigger:"change"}],briefName:[{required:!0,message:"请输入商品缩略名",trigger:"blur"}],keyWords:[{required:!0,message:"请输入商品关键字",trigger:"blur"}],openDate:[{type:"date",required:!0,message:"请选择开售日期",trigger:"change"}],closeDate:[{type:"date",required:!0,message:"请选择停售时间",trigger:"change"}],srcCityCode:[{required:!0,message:"请选择出发城市",trigger:"change"}],dstCityCode:[{required:!0,message:"请选择目的城市",trigger:"change"}],nocashReserveMinute:[{type:"number",required:!0,message:"请输入无订金订单占位时长",trigger:"blur"}],suggestedPrice:[{type:"number",required:!0,message:"请输入建议售价",trigger:"blur"}],tripDays:[{type:"number",required:!0,message:"请选择天数",trigger:"change"}],sellPreDays:[{type:"number",required:!0,message:"请选择天数",trigger:"change"}],wareDesc:[{required:!0,message:"请填写推荐概述",trigger:"blur"}]},pickerOptions:{shortcuts:[{text:"今天",onClick:function(e){e.$emit("pick",new Date)}},{text:"明天",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"一周后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}},{text:"一月后",onClick:function(e){var t=new Date;t.setTime(t.getTime()+2592e6),e.$emit("pick",t)}}]}}},methods:{updateData:function(e){this.wareForm.wareDesc=e},getBrandList:function(){var e=this;(0,s.readBrandList)().then(function(t){"0001"===t.data.code?e.brandList=t.data.result.brandInfo:e.$message.error(t.data.message)}).catch(function(t){e.catchError(t.response)})},getWareKindList:function(){var e=this,t={};(0,s.readWareKind)(t).then(function(t){console.log(t),"0001"===t.data.code?(e.$message.success(t.data.message),e.kindList=t.data.result.wareKindList):e.$message.error(t.data.message)}).catch(function(t){console.log(t),e.catchError(t.response)})},nodeClick:function(e){this.selectedKind={kindId:e.kindId,kindName:e.kindName}},handleConfirm:function(){this.wareForm.wareKind=this.selectedKind.kindId,this.wareKindName=this.selectedKind.kindName,this.wareKindVisible=!1},srcCityChange:function(e){this.wareForm.srcCityCode=e},dstCityChange:function(e){this.wareForm.dstCityCode=e},submitForm:function(){var e=this;this.$refs.wareForm.validate(function(t){if(!t)return e.$message.error("表单输入有误"),!1;var r=(0,i.default)({},e.wareForm);r.openDate=e.$moment(r.openDate).format("YYYY-MM-DD HH:mm:ss"),r.closeDate=e.$moment(r.closeDate).format("YYYY-MM-DD HH:mm:ss"),r.nocashReserveMinute=60*r.nocashReserveMinute,console.log(r),(0,s.saveWareInfo)(r).then(function(t){if("0001"===t.data.code){var r=t.data.result.wareId;e.$message.success(t.data.message),e.$router.push("trip?wareId="+r)}else e.$message.error(t.data.message)}).catch(function(t){console.log(t),e.catchError(t.response)})})}},mounted:function(){this.$store.dispatch("setStepActive",0),this.getBrandList()}}},867:function(e,t,r){t=e.exports=r(696)(),t.push([e.i,".el-card[data-v-245cc17a]{margin:15px}.el-card__body[data-v-245cc17a]{padding:30px}.input-width .el-input[data-v-245cc17a]{width:217px}.el-tree[data-v-245cc17a]{max-height:300px;overflow-y:auto}","",{version:3,sources:["D:/B2B-YueProject/yueadmin-b2b/src/pages/provider/ware/wareInput/base.vue"],names:[],mappings:"AACA,0BACE,WAAa,CACd,AACD,gCACE,YAAc,CACf,AACD,wCACE,WAAa,CACd,AACD,0BACE,iBAAkB,AAClB,eAAiB,CAClB",file:"base.vue",sourcesContent:["\n.el-card[data-v-245cc17a] {\n  margin: 15px;\n}\n.el-card__body[data-v-245cc17a] {\n  padding: 30px;\n}\n.input-width .el-input[data-v-245cc17a] {\n  width: 217px;\n}\n.el-tree[data-v-245cc17a] {\n  max-height: 300px;\n  overflow-y: auto;\n}\n"],sourceRoot:""}])},912:function(e,t,r){var a=r(867);"string"==typeof a&&(a=[[e.i,a,""]]),a.locals&&(e.exports=a.locals);r(697)("7158f426",a,!0)},960:function(e,t){e.exports={render:function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",[r("el-row",[r("el-col",{attrs:{span:20,offset:2}},[r("el-form",{ref:"wareForm",attrs:{model:e.wareForm,rules:e.rules,"label-width":"150px"}},[r("el-card",{staticClass:"input-width"},[r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{height:"36px"},attrs:{label:"行程天数",prop:"tripDays"}},[r("el-input-number",{staticStyle:{width:"140px"},attrs:{min:1,max:30},model:{value:e.wareForm.tripDays,callback:function(t){e.wareForm.tripDays=t},expression:"wareForm.tripDays"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{staticStyle:{height:"36px"},attrs:{label:"至少提前多少天购买",prop:"sellPreDays"}},[r("el-input-number",{staticStyle:{width:"140px"},attrs:{min:1,max:45},model:{value:e.wareForm.sellPreDays,callback:function(t){e.wareForm.sellPreDays=t},expression:"wareForm.sellPreDays"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"商品名称",prop:"wareName"}},[r("el-input",{attrs:{placeholder:"商品名称"},model:{value:e.wareForm.wareName,callback:function(t){e.wareForm.wareName=t},expression:"wareForm.wareName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"商品品牌",prop:"brandId"}},[r("el-select",{model:{value:e.wareForm.brandId,callback:function(t){e.wareForm.brandId=t},expression:"wareForm.brandId"}},e._l(e.brandList,function(e){return r("el-option",{key:e.brandId,attrs:{label:e.brandName,value:e.brandId}})}))],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"商品缩略名",prop:"briefName"}},[r("el-input",{attrs:{placeholder:"商品缩略名"},model:{value:e.wareForm.briefName,callback:function(t){e.wareForm.briefName=t},expression:"wareForm.briefName"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"商品关键字",prop:"keyWords"}},[r("el-input",{attrs:{placeholder:"关键字以英文逗号分隔"},model:{value:e.wareForm.keyWords,callback:function(t){e.wareForm.keyWords=t},expression:"wareForm.keyWords"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"起售时间",prop:"openDate"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.wareForm.openDate,callback:function(t){e.wareForm.openDate=t},expression:"wareForm.openDate"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"停售时间",prop:"closeDate"}},[r("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间",align:"right","picker-options":e.pickerOptions},model:{value:e.wareForm.closeDate,callback:function(t){e.wareForm.closeDate=t},expression:"wareForm.closeDate"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"出发城市",prop:"srcCityCode"}},[r("region-picker",{attrs:{cityName:e.wareForm.srcCityName,width:"217"},on:{change:e.srcCityChange},model:{value:e.wareForm.srcCityCode,callback:function(t){e.wareForm.srcCityCode=t},expression:"wareForm.srcCityCode"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"目的城市",prop:"dstCityCode"}},[r("region-picker",{attrs:{cityName:e.wareForm.dstCityName,width:"217"},on:{change:e.dstCityChange},model:{value:e.wareForm.dstCityCode,callback:function(t){e.wareForm.dstCityCode=t},expression:"wareForm.dstCityCode"}})],1)],1)],1),e._v(" "),r("el-row",[r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"建议售价",prop:"suggestedPrice"}},[r("el-input",{attrs:{placeholder:"建议售价"},model:{value:e.wareForm.suggestedPrice,callback:function(t){e.wareForm.suggestedPrice=e._n(t)},expression:"wareForm.suggestedPrice"}})],1)],1),e._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"无订金订单占位时长",prop:"nocashReserveMinute"}},[r("el-input-number",{staticStyle:{width:"140px"},attrs:{min:.5,max:168},model:{value:e.wareForm.nocashReserveMinute,callback:function(t){e.wareForm.nocashReserveMinute=e._n(t)},expression:"wareForm.nocashReserveMinute"}})],1)],1)],1),e._v(" "),r("el-form-item",{attrs:{label:"商品品类",prop:"wareKind"}},[r("el-input",{attrs:{placeholder:"商品品类"},on:{focus:function(t){e.wareKindVisible=!0}},model:{value:e.wareKindName,callback:function(t){e.wareKindName=t},expression:"wareKindName"}})],1)],1),e._v(" "),r("el-card",[r("p",{staticClass:"m-b"},[r("strong",[e._v("推荐概述")]),r("span",{staticStyle:{"margin-left":"15px","font-size":"14px"}},[e._v("最多输入8000个字符")])]),e._v(" "),r("el-form-item",{attrs:{label:"","label-width":"0",prop:"wareDesc"}},[r("vue-html5-editor",{attrs:{content:e.wareForm.wareDesc,height:400,"z-index":1},on:{change:e.updateData}})],1)],1),e._v(" "),r("el-form-item",{staticClass:"text-center"},[r("el-button",{attrs:{type:"primary"},on:{click:e.submitForm}},[e._v("保存")]),e._v(" "),r("back-button")],1)],1)],1)],1),e._v(" "),r("el-dialog",{attrs:{title:"商品品类",visible:e.wareKindVisible},on:{"update:visible":function(t){e.wareKindVisible=t}}},[r("el-tree",{ref:"tree",attrs:{data:e.kindList,props:e.defaultProps,"node-key":"id",accordion:"","highlight-current":"","default-expand-all":"","expand-on-click-node":!0},on:{"node-click":e.nodeClick}}),e._v(" "),r("div",{slot:"footer"},[r("el-button",{on:{click:function(t){e.wareKindVisible=!1}}},[e._v("取消")]),e._v(" "),r("el-button",{attrs:{type:"primary"},on:{click:e.handleConfirm}},[e._v("确定")])],1)],1)],1)},staticRenderFns:[]}}});
//# sourceMappingURL=12.e339533bf160865361ef.js.map
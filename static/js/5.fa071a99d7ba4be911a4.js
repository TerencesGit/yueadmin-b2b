webpackJsonp([5],{1005:function(a,t){a.exports={render:function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("section",[e("el-row",{attrs:{gutter:20}},[e("el-col",{attrs:{span:18}},[e("div",{staticClass:"trip-title"},[e("span",{domProps:{textContent:a._s(a.wareInfo.wareName)}}),a._v(" "),e("span",{domProps:{textContent:a._s("商品ID："+a.wareInfo.wareCode)}})]),a._v(" "),e("ul",{staticClass:"trip-content"},a._l(a.wareInfo.tripDays,function(t){return e("li",{key:t},[e("el-card",{staticClass:"trip-day"},[e("h4",[a._v("第"+a._s(t)+"天")]),a._v(" "),e("ul",{staticClass:"trip-list"},a._l(a.tripList,function(r){return r.tripDayNum===t?e("li",[e("div",{staticClass:"trip-detail clearfix"},[e("p",{staticClass:"pull-left"},[1==r.programType?e("span",[e("i",{staticClass:"fa fa-plane"}),a._v(" [航班]")]):2==r.programType?e("span",[e("i",{staticClass:"fa fa-car"}),a._v(" [交通]")]):10==r.programType?e("span",[e("i",{staticClass:"fa fa-hotel"}),a._v(" [酒店]")]):20==r.programType?e("span",[e("i",{staticClass:"fa fa-binoculars"}),a._v(" [景点]")]):30==r.programType?e("span",[e("i",{staticClass:"fa fa-cutlery"}),a._v(" [早餐]")]):31==r.programType?e("span",[e("i",{staticClass:"fa fa-cutlery"}),a._v(" [午餐]")]):32==r.programType?e("span",[e("i",{staticClass:"fa fa-coffee"}),a._v(" [下午茶]")]):33==r.programType?e("span",[e("i",{staticClass:"fa fa-cutlery"}),a._v(" [晚餐]")]):34==r.programType?e("span",[e("i",{staticClass:"fa fa-cutlery"}),a._v(" [宵夜]")]):40==r.programType?e("span",[e("i",{staticClass:"fa fa-shopping-bag"}),a._v(" [购物]")]):50==r.programType?e("span",[e("i",{staticClass:"fa fa-child"}),a._v(" [自由活动]")]):60==r.programType?e("span",[e("i",{staticClass:"fa fa-bell"}),a._v(" [主题活动]")]):e("span",[a._v(" ")]),a._v(" "),e("span",[a._v(a._s(a._f("TimeFormat")(r.programTime)))]),a._v(" "),e("span",[a._v(a._s(r.programTitle))])]),a._v(" "),e("p",{staticClass:"pull-right"},[e("i",{staticClass:"fa fa-edit",on:{click:function(t){a.handleEdit(r)}}}),a._v(" "),e("i",{staticClass:"fa fa-trash",on:{click:function(t){a.handleDelete(r)}}})])])]):a._e()})),a._v(" "),e("el-button",{attrs:{type:"text"},on:{click:function(e){a.handleAdd(t)}}},[a._v("+ 添加行程")])],1)],1)})),a._v(" "),e("div",{staticClass:"text-center m-t"},[e("el-button",{attrs:{type:"primary",size:"large"},on:{click:a.handleNext}},[a._v("下一步")])],1)]),a._v(" "),e("el-col",{attrs:{span:6}},[e("div",{staticClass:"shear-plate bg-white"},[e("h4",[a._v("剪切板")]),a._v(" "),e("el-input",{attrs:{type:"textarea",rows:20,placeholder:"您可以将您即将录入的行程介绍复制黏贴到这里奥，方便您后续参考录入"}})],1)])],1),a._v(" "),e("el-dialog",{attrs:{title:a.dialogTitle,visible:a.tripFormVisible},on:{"update:visible":function(t){a.tripFormVisible=t}}},[e("el-form",{ref:"tripForm",staticClass:"form-item-width",attrs:{model:a.tripForm,rules:a.rules,"label-width":"100px"}},[e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"行程标题：",prop:"programTitle"}},[e("el-input",{attrs:{placeholder:"行程标题"},model:{value:a.tripForm.programTitle,callback:function(t){a.tripForm.programTitle=t},expression:"tripForm.programTitle"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"行程类型："}},[e("el-select",{attrs:{clearable:"",placeholder:"选择行程类型"},model:{value:a.tripForm.programType,callback:function(t){a.tripForm.programType=t},expression:"tripForm.programType"}},a._l(a.tripTypes,function(a){return e("el-option",{key:a.value,attrs:{label:a.label,value:a.value}})}))],1)],1)],1),a._v(" "),e("el-row",[e("el-col",{attrs:{span:12}},[e("el-form-item",{attrs:{label:"行程时间：",prop:"programTime"}},[e("el-time-picker",{attrs:{"picker-options":{format:"HH:mm:ss"},placeholder:"行程时间"},model:{value:a.tripForm.programTime,callback:function(t){a.tripForm.programTime=t},expression:"tripForm.programTime"}})],1)],1),a._v(" "),e("el-col",{attrs:{span:12}},[e("el-form-item",{staticStyle:{height:"36px"},attrs:{label:"行程时长："}},[e("el-input-number",{staticStyle:{width:"140px"},attrs:{min:10,max:720,step:10},model:{value:a.tripForm.programDuration,callback:function(t){a.tripForm.programDuration=t},expression:"tripForm.programDuration"}}),a._v(" "),e("span",{staticClass:"input-unit"},[a._v("分钟")])],1)],1)],1),a._v(" "),e("el-row",[e("el-form-item",{attrs:{label:"行程明细：",prop:"programDetail"}},[e("el-input",{attrs:{type:"textarea"},model:{value:a.tripForm.programDetail,callback:function(t){a.tripForm.programDetail=t},expression:"tripForm.programDetail"}})],1)],1),a._v(" "),e("el-row",[e("el-form-item",{attrs:{label:"是否免费："}},[e("el-radio",{staticClass:"radio",attrs:{label:1},model:{value:a.tripForm.programIsFree,callback:function(t){a.tripForm.programIsFree=t},expression:"tripForm.programIsFree"}},[a._v("免费")]),a._v(" "),e("el-radio",{staticClass:"radio",attrs:{label:0},model:{value:a.tripForm.programIsFree,callback:function(t){a.tripForm.programIsFree=t},expression:"tripForm.programIsFree"}},[a._v("自费")])],1)],1)],1),a._v(" "),e("div",{staticClass:"dialog-footer",slot:"footer"},[e("el-button",{on:{click:function(t){a.tripFormVisible=!1}}},[a._v("取 消")]),a._v(" "),e("el-button",{attrs:{type:"primary"},on:{click:a.onSubmit}},[a._v("确 定")])],1)],1)],1)},staticRenderFns:[]}},770:function(a,t,e){e(934);var r=e(10)(e(854),e(1005),"data-v-a3097ad2",null);a.exports=r.exports},854:function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=e(329),i=function(a){return a&&a.__esModule?a:{default:a}}(r),l=e(70);t.default={data:function(){return{wareId:"",wareInfo:{},tripList:[],tripFormVisible:!1,dialogTitle:"",tripForm:{id:"",wareId:"",tripDayNum:"",programType:1,programTime:"",programTitle:"",programIsFree:1,programDuration:1,programDetail:""},tripTypes:[{label:"航班",value:1},{label:"交通",value:2},{label:"酒店",value:10},{label:"景点",value:20},{label:"早餐",value:30},{label:"午餐",value:31},{label:"下午茶",value:32},{label:"晚餐",value:33},{label:"宵夜",value:34},{label:"购物",value:40},{label:"自由活动",value:50},{label:"主题活动",value:60}],rules:{programTitle:[{required:!0,message:"请输入行程标题",trigger:"blur"}],programTime:[{type:"date",required:!0,message:"请选择行程时间",trigger:"change"}],programDetail:[{required:!0,message:"请输入行程详情",trigger:"blur"}]}}},methods:{getWareInfo:function(){var a=this;(0,l.readWareInfo)({wareId:this.wareId}).then(function(t){"0001"===t.data.code?a.wareInfo=t.data.result.wareInfo:a.$message.error(t.data.message)}).catch(function(a){console.log(a)})},getTripList:function(){var a=this;(0,l.readTripDetailList)({wareId:this.wareId}).then(function(t){"0001"===t.data.code?(a.tripList=t.data.result.tripDetailList,a.tripList.forEach(function(a){a.programTime=new Date(a.programTime)})):a.$message.error(t.data.message)}).catch(function(t){console.log(t),a.catchError(t.response)})},handleAdd:function(a){this.tripForm={id:"",wareId:"",tripDayNum:a,programType:1,programTime:new Date,programTitle:"",programIsFree:1,programDuration:1,programDetail:""},this.dialogTitle="添加行程",this.tripFormVisible=!0},handleEdit:function(a){this.tripForm=(0,i.default)({},a),this.dialogTitle="编辑行程",this.tripFormVisible=!0},onSubmit:function(){var a=this;this.$refs.tripForm.validate(function(t){if(t){var e=(0,i.default)({},a.tripForm);e.wareId=a.wareId,(0,l.saveWareTripDetail)(e).then(function(t){"0001"===t.data.code?(a.$message.success(t.data.message),a.getTripList()):a.$message.error(t.data.message)}).catch(function(t){console.log(t),a.catchError(t.response)}),a.tripFormVisible=!1}else a.$message.error("表单输入有误")})},handleDelete:function(a){var t=this;this.$confirm("确定删除该条行程","提示",{type:"warning"}).then(function(){(0,l.deleteTripDetail)({id:a.id}).then(function(a){console.log(a),"0001"===a.data.code?(t.$message.success(a.data.message),t.getTripList()):t.$message.error(a.data.message)}).catch(function(a){console.log(a),t.catchError(a.response)})}).catch(function(a){console.log(a),t.$message("已取消操作")})},handleNext:function(){this.$router.push("multimedia?wareId="+this.wareId)}},mounted:function(){this.$store.dispatch("setStepActive",1),this.wareId=parseInt(this.$route.query.wareId),this.wareId&&this.getWareInfo(),this.wareId&&this.getTripList()}}},889:function(a,t,e){t=a.exports=e(696)(),t.push([a.i,".form-item-width .el-input[data-v-a3097ad2],.form-item-width .el-select[data-v-a3097ad2]{width:192px}.trip-title[data-v-a3097ad2]{display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-ms-flex-pack:justify;justify-content:space-between;margin-bottom:20px;padding:15px 20px;background:#fff}.trip-days li[data-v-a3097ad2]{padding:30px 0}.trip-list[data-v-a3097ad2]{padding:5px 15px}.trip-list>li[data-v-a3097ad2]{margin:10px 0;padding:10px;background:#f0f0f0}.trip-detail .pull-left span[data-v-a3097ad2]{margin:0 5px}.trip-detail .pull-right[data-v-a3097ad2]{display:none}.trip-detail .pull-right i[data-v-a3097ad2]{cursor:pointer}.trip-detail:hover .pull-right[data-v-a3097ad2]{display:block}.shear-plate[data-v-a3097ad2]{padding:15px}.shear-plate h4[data-v-a3097ad2]{margin-bottom:15px}","",{version:3,sources:["D:/B2B-YueProject/yueadmin-b2b/src/pages/provider/ware/wareInput/trip.vue"],names:[],mappings:"AACA,yFAEE,WAAa,CACd,AACD,6BACE,oBAAqB,AACrB,oBAAqB,AACrB,aAAc,AACd,yBAA0B,AACtB,sBAAuB,AACnB,8BAA+B,AACvC,mBAAoB,AACpB,kBAAmB,AACnB,eAAiB,CAClB,AACD,+BACE,cAAgB,CACjB,AACD,4BACE,gBAAkB,CACnB,AACD,+BACE,cAAe,AACf,aAAc,AACd,kBAAoB,CACrB,AACD,8CACE,YAAc,CACf,AACD,0CACE,YAAc,CACf,AACD,4CACE,cAAgB,CACjB,AACD,gDACE,aAAe,CAChB,AACD,8BACE,YAAc,CACf,AACD,iCACI,kBAAoB,CACvB",file:"trip.vue",sourcesContent:["\n.form-item-width .el-input[data-v-a3097ad2],\n.form-item-width .el-select[data-v-a3097ad2] {\n  width: 192px;\n}\n.trip-title[data-v-a3097ad2] {\n  display: -webkit-box;\n  display: -ms-flexbox;\n  display: flex;\n  -webkit-box-pack: justify;\n      -ms-flex-pack: justify;\n          justify-content: space-between;\n  margin-bottom: 20px;\n  padding: 15px 20px;\n  background: #fff;\n}\n.trip-days li[data-v-a3097ad2] {\n  padding: 30px 0;\n}\n.trip-list[data-v-a3097ad2] {\n  padding: 5px 15px;\n}\n.trip-list > li[data-v-a3097ad2] {\n  margin: 10px 0;\n  padding: 10px;\n  background: #f0f0f0;\n}\n.trip-detail .pull-left span[data-v-a3097ad2] {\n  margin: 0 5px;\n}\n.trip-detail .pull-right[data-v-a3097ad2] {\n  display: none;\n}\n.trip-detail .pull-right i[data-v-a3097ad2] {\n  cursor: pointer;\n}\n.trip-detail:hover .pull-right[data-v-a3097ad2] {\n  display: block;\n}\n.shear-plate[data-v-a3097ad2] {\n  padding: 15px;\n}\n.shear-plate h4[data-v-a3097ad2] {\n    margin-bottom: 15px;\n}\n"],sourceRoot:""}])},934:function(a,t,e){var r=e(889);"string"==typeof r&&(r=[[a.i,r,""]]),r.locals&&(a.exports=r.locals);e(697)("02c298bf",r,!0)}});
//# sourceMappingURL=5.fa071a99d7ba4be911a4.js.map